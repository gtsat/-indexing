#!/usr/local/bin/octave

clear all;
close all;

%
%######################################################
%======================================================
% DIMACS USA road network dataset
% (http://www.dis.uniroma1.it/challenge9/download.shtml)
% evaluated on a mid-2015 15'' macbook pro
%=======================================================
%#######################################################
%


%
%=========================
% smoothing factor
%=========================
%

A = [
 [1024 200 200 0.000000 10.000000 138900.800000 70.200000 68.200000 10782.800000 452.800000 452.800000 43613026.155183 43613026.155183]
 [1024 200 200 1.000000 9.000000 157495.600000 95.800000 92.600000 12230.000000 659.200000 659.200000 35556851.546657 35556851.546657]
 [1024 200 200 2.000000 8.000000 93323.200000 105.200000 102.600000 6339.800000 536.400000 536.400000 34324351.986126 34324351.986126]
 [1024 200 200 3.000000 7.000000 126022.800000 111.200000 106.800000 8902.200000 774.200000 774.200000 25174044.672902 25174044.672902]
 [1024 200 200 4.000000 6.000000 195887.000000 127.800000 124.200000 14529.200000 892.400000 892.400000 20010520.740549 20010520.740549]
 [1024 200 200 5.000000 5.000000 76433.800000 123.400000 119.200000 7444.600000 930.000000 930.000000 16344817.460736 16344817.460736]
 [1024 200 200 6.000000 4.000000 135963.400000 83.400000 81.400000 11575.600000 612.600000 612.600000 14843709.038505 14843709.038505]
 [1024 200 200 7.000000 3.000000 264620.400000 78.000000 79.000000 21114.800000 613.200000 613.200000 11202974.673783 11202974.673783]
 [1024 200 200 8.000000 2.000000 22373.600000 71.600000 69.200000 3720.400000 578.600000 578.600000 6724634.146209 6724634.146209]
 [1024 200 200 9.000000 1.000000 285260.000000 43.200000 43.600000 22473.600000 384.600000 384.600000 3795177.707095 3795177.707095]
 [1024 200 200 10.000000 0.000000 10485.400000 101.800000 101.600000 1269.200000 1234.400000 1234.400000 -2891.034904 -2891.034904]
];

 %% time 
 figure(1);
 semilogy (A(:,4),A(:,6),'-s;gis2015 plagiarism;',A(:,4),A(:,8),'-o;sigmod2013-phd;');
 ylabel('Execution time (msec)');
 xlabel('smoothing factor');
 legend ('location','west');
 print ('-deps','-color','time_tradeoff.eps');

 %% disk
 figure(2); 
 semilogy (A(:,4),A(:,9),'-s;gis2015 plagiarism;',A(:,4),A(:,11),'-o;sigmod2013-phd;');
 ylabel('Disk accesses (IOs)');
 xlabel('smoothing factor');
 legend ('location','west');
 print ('-deps','-color','disk_tradeoff.eps');

 %% result quality
 figure(3); 
 plot (A(:,4),A(:,12),'-s;gis2015 plagiarism;',A(:,4),A(:,13),'-o;sigmod2013-phd;');
 ylabel('Ranking function scores');
 xlabel('smoothing factor');
 legend ('location','west');
 print ('-deps','-color','quality_tradeoff.eps');


%
%==========================
% number of attractors
%==========================
%

A = [
 [1024 100 200 5.000000 5.000000 162593.400000 67.400000 66.800000 13003.000000 678.200000 678.200000 17763103.271619 17763103.271619]
 [1024 200 200 5.000000 5.000000 401281.000000 174.800000 166.800000 27577.600000 1205.600000 1205.600000 16346434.148821 16346434.148821]
 [1024 400 200 5.000000 5.000000 102783.600000 271.400000 264.000000 8583.200000 1176.600000 1176.600000 16335418.694877 16335418.694877]
 [1024 800 200 5.000000 5.000000 88455.800000 299.000000 306.800000 7198.000000 724.600000 724.600000 18822302.760607 18822302.760607]
];

 %% time 
 figure(4);
 semilogy (A(:,2),A(:,6),'-s;gis2015 plagiarism;',A(:,2),A(:,8),'-o;sigmod2013-phd;');
 ylabel('Execution time (msec)');
 xlabel('number of attractorss');
 legend ('location','east');
 print ('-deps','-color','time_attractors.eps');

 %% disk
 figure(5); 
 semilogy (A(:,2),A(:,9),'-s;gis2015 plagiarism;',A(:,2),A(:,11),'-o;sigmod2013-phd;');
 ylabel('Disk accesses (IOs)');
 xlabel('number of attractors');
 legend ('location','east');
 print ('-deps','-color','disk_attractors.eps');

 %% result quality
 figure(6); 
 plot (A(:,2),A(:,12),'-s;gis2015 plagiarism;',A(:,2),A(:,13),'-o;sigmod2013-phd;');
 ylabel('Ranking function scores');
 xlabel('number of attractors');
 legend ('location','east');
 print ('-deps','-color','quality_attractors.eps');


%
%============================
% number of repellers
%============================
%

A = [
 [1024 200 100 5.000000 5.000000 67469.200000 33.600000 31.400000 5402.200000 285.800000 285.800000 29817727.501325 29817727.501325]
 [1024 200 200 5.000000 5.000000 203842.400000 122.600000 119.800000 15303.200000 868.800000 868.800000 16531142.389580 16531142.389580]
 [1024 200 400 5.000000 5.000000 79639.800000 178.000000 173.000000 6830.400000 1006.600000 1006.600000 13584074.950608 13584074.950608]
 [1024 200 800 5.000000 5.000000 122564.800000 517.400000 503.600000 9495.400000 1831.800000 1831.800000 8295625.426431 8295625.426431]
];

 %% time 
 figure(7);
 semilogy (A(:,3),A(:,6),'-s;gis2015 plagiarism;',A(:,3),A(:,8),'-o;sigmod2013-phd;');
 ylabel('Execution time (msec)');
 xlabel('number of repellers');
 legend ('location','east');
 print ('-deps','-color','time_repellers.eps');

 %% disk
 figure(8); 
 semilogy (A(:,3),A(:,9),'-s;gis2015 plagiarism;',A(:,3),A(:,11),'-o;sigmod2013-phd;');
 ylabel('Disk accesses (IOs)');
 xlabel('number of repellers');
 legend ('location','east');
 print ('-deps','-color','disk_repellers.eps');

 %% result quality
 figure(9); 
 plot (A(:,3),A(:,12),'-s;gis2015 plagiarism;',A(:,3),A(:,13),'-o;sigmod2013-phd;');
 ylabel('Ranking function scores');
 xlabel('number of repellers');
 legend ('location','east');
 print ('-deps','-color','quality_repellers.eps');


%
%============================
% heapfile block-size
%============================
%

A = [
 [4096 200 200 5.000000 5.000000 44242.200000 342.000000 333.800000 3998.400000 698.000000 698.000000 17753376.531345 17753376.531345]
 [2048 200 200 5.000000 5.000000 24836.200000 195.800000 189.000000 2769.800000 781.200000 781.200000 17605776.216208 17605776.216208]
 [1024 200 200 5.000000 5.000000 188013.400000 133.200000 127.800000 15303.400000 956.200000 956.200000 16761090.537240 16761090.537240]
 [512 200 200 5.000000 5.000000 242894.800000 59.600000 56.800000 20824.000000 752.000000 752.000000 19268346.740893 19268346.740893]
 [256 200 200 5.000000 5.000000 678442.000000 42.200000 41.800000 53459.200000 949.600000 949.600000 18573275.548205 18573275.548205]
];

 %% time 
 figure(10);
 semilogy (A(:,1),A(:,6),'-s;gis2015 plagiarism;',A(:,1),A(:,8),'-o;sigmod2013-phd;');
 ylabel('Execution time (msec)');
 xlabel('number of repellers');
 legend ('location','east');
 print ('-deps','-color','time_blocksize.eps');

 %% disk
 figure(11); 
 semilogy (A(:,1),A(:,9),'-s;gis2015 plagiarism;',A(:,1),A(:,11),'-o;sigmod2013-phd;');
 ylabel('Disk accesses (IOs)');
 xlabel('number of repellers');
 legend ('location','east');
 print ('-deps','-color','disk_blocksize.eps');

 %% result quality
 figure(12); 
 plot (A(:,1),A(:,12),'-s;gis2015 plagiarism;',A(:,1),A(:,13),'-o;sigmod2013-phd;');
 ylabel('Ranking function scores');
 xlabel('number of repellers');
 legend ('location','east');
 print ('-deps','-color','quality_blocksize.eps');


